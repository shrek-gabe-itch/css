/* ==UserStyle==
@name			VK Keftheme
@version		2.3.5
@namespace		https://github.com/shrek-gabe-itch/dotfiles
@updateURL		https://raw.githubusercontent.com/shrek-gabe-itch/dotfiles/main/css/vk/keftheme.user.css
@license		unlicense
@preprocessor	stylus

@var checkbox	darkAvatar			"Dark avatar (no photo)"		1
@var checkbox	customBackground	"Image background"				1
@var text		backgroundLink		"Background url(image_link)"	"url(https://i.imgur.com/rlsprAZ.jpg)"

@var text		redColor			"Red(0-255)"					145
@var text		greenColor			"Green(0-255)"					92
@var text		blueColor			"Blue(0-255)"					163
@var text		filterColor			"Filters color(0-360)"			62

@var select backgroundColor "Background color" {
	"Default": "rgb(34, 34, 34)",
	"1": "rgb(62, 62, 66)",
	"2": "rgb(45, 45, 48)",
	"3": "rgb(37, 37, 38)",
	"4": "rgb(30, 30, 30)",
	"5": "rgb(26, 24, 24)"
}
==/UserStyle== */

imp = !important

@-moz-document domain("vk.com"), domain("vk.ru")
	:root
		--main-filter: hue-rotate(filterColor deg) imp

	html[dir], [dir] #page_wrap
		scrollbar-color: rgb(redColor, greenColor, blueColor) backgroundColor imp

	if customBackground
		 body, html[dir], [dir] #page_wrap
			background-size: cover imp
			background: backgroundLink no-repeat fixed center 0

	[scheme=vkcom_dark], .vkui--vkBase--dark, .vkui--vkCom--dark, :root
		--text: #a6a6b5 imp
		--loader_background: #272727 imp
		--image_border: #0000 imp
		--input_border: #0000 imp
		--snippet_border: #0000 imp
		--background_page: #0000 imp
		--separator_common: #0000 imp
		--separator_alternate: #0000 imp
		--landing_snippet_border: #0000 imp
		--vkui--color_background: #0000 imp
		--vkui--color_separator_primary: #0000 imp
		--vkui--color_image_border_alpha: #0000 imp
		--vkui--color_separator_secondary: #0000 imp
		--vkui--vkontakte_color_input_border: #0000 imp
		--vkui--vkontakte_color_snippet_border_alpha: #0000 imp
		--vkui--vkontakte_color_landing_snippet_border_alpha: #0000 imp
		--background_light: backgroundColor
		--button_bot_shadow: backgroundColor
		--background_content: backgroundColor
		--landing_background: backgroundColor
		--counter_primary_text: backgroundColor
		--modal_card_background: backgroundColor
		--search_bar_background: backgroundColor
		--skeleton_shimmer_from: backgroundColor
		--counter_secondary_text: backgroundColor
		--overlay_status_background: backgroundColor
		--vkui--color_background_modal: backgroundColor
		--attach_picker_tab_active_icon: backgroundColor
		--vkui--color_header_background: backgroundColor
		--vkui--color_background_content: backgroundColor
		--landing_login_button_foreground: backgroundColor
		--vkui--color_background_tertiary: backgroundColor
		--segmented_control_bar_background: backgroundColor
		--landing_primary_button_foreground: backgroundColor
		--vk_connect_button_primary_foreground: backgroundColor
		--accent: rgb(redColor, greenColor, blueColor) imp
		--sky_300: rgb(redColor, greenColor, blueColor) imp
		--text_name: rgb(redColor, greenColor, blueColor) imp
		--im_text_name: rgb(redColor, greenColor, blueColor) imp
		--text_primary: rgb(redColor, greenColor, blueColor) imp
		--icon_tertiary: rgb(redColor, greenColor, blueColor) imp
		--icon_secondary: rgb(redColor, greenColor, blueColor) imp
		--text_placeholder: rgb(redColor, greenColor, blueColor) imp
		--icon_outline_medium: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_text_link: rgb(redColor, greenColor, blueColor) imp
		--icon_outline_secondary: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_text_accent: rgb(redColor, greenColor, blueColor) imp
		--loader_track_value_fill: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_icon_accent: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_track_buffer: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_text_primary: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_stroke_accent: rgb(redColor, greenColor, blueColor) imp
		--button_primary_foreground: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_icon_tertiary: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_write_bar_icon: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_icon_secondary: rgb(redColor, greenColor, blueColor) imp
		--counter_primary_background: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_background_accent: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_text_accent_themed: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_icon_accent_themed: rgb(redColor, greenColor, blueColor) imp
		--vkui--color_text_contrast_themed: rgb(redColor, greenColor, blueColor) imp
		--vkui--vkontakte_color_im_text_name: rgb(redColor, greenColor, blueColor) imp
		--gray_850: rgba(redColor, greenColor, blueColor, 0.2) imp
		--dynamic_blue: rgba(redColor, greenColor, blueColor, 0.2) imp
		--background_hover: rgba(redColor, greenColor, blueColor, 0.2) imp
		--field_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--input_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--loader_track_fill: rgba(redColor, greenColor, blueColor, 0.2) imp
		--control_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--im_bubble_outgoing: rgba(redColor, greenColor, blueColor, 0.2) imp
		--background_highlighted: rgba(redColor, greenColor, blueColor, 0.2) imp
		--background_suggestions: rgba(redColor, greenColor, blueColor, 0.2) imp
		--steel_gray_200_alpha12: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--color_accent_blue: rgba(redColor, greenColor, blueColor, 0.2) imp
		--float_button_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--content_tint_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--button_primary_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--button_commerce_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--button_secondary_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--color_track_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--color_transparent--active: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--color_background_secondary: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--color_background_accent_themed: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--vkontakte_background_hover_alpha: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--color_write_bar_input_background: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--color_background_secondary_alpha: rgba(redColor, greenColor, blueColor, 0.2) imp
		--button_secondary_background_highlighted: rgba(redColor, greenColor, blueColor, 0.2) imp
		--button_secondary_foreground_highlighted: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--vkontakte_color_background_suggestions: rgba(redColor, greenColor, blueColor, 0.2) imp
		--vkui--color_background_accent_themed--hover: rgba(redColor, greenColor, blueColor, 0.3) imp


	/* EXCLUSIONS */
	body.new_header_design #side_bar .left_label, .audio_row:not(.audio_claimed) .audio_row__title_inner, .media_link__title, .audio_row .audio_row__sound_bars, .ui_tabs_header .ui_tab_sel, .ui_tab_sel, .vkuiTabsItem--selected.vkuiTabsItem--accent .vkuiTabsItem__label, .vkuiTabsItem--selected.vkuiTabsItem--accent .vkuiTabsItem__before, .vkuiButton--lvl-secondary.vkuiButton--clr-accent, .FlatButton__content, .im-chat-input--attach-label, .emoji_smile_icon_inline_svg, .audio_page_player2 .audio_page_player_icon--pause, .audio_page_player2 .audio_page_player_prev, .audio_page_player2 .audio_page_player_icon--play, .audio_page_player2 .audio_page_player_next, .ui_search_button_search, .FlatButton__after, .vkuiButton--lvl-tertiary.vkuiButton--clr-accent:hover, .audio_w_covers .audio_row .audio_row__cover, .nim-dialog:not(.nim-dialog_deleted):not(.nim-dialog_classic).nim-dialog_selected .nim-dialog--name-w
		color: var(--accent)

	.top_audio_player .top_audio_player_title, .wall_post_text, .wall_reply_text, .OwnerPageName, .page_list_module .people_desc, .settings_label, .settings_labeled_text, .ui_tab_default .ui_tab_plain, .group_info_rows_redesign .group_info_row .line_value, .wall_module .wd_lnk, .ProfileModalInfoRow__label, .ProfileFullStacks__caption, .ProfileFullCommonInfo__caption, .im-mess--text, .im-replied--text, .vkuiTabsItem__before, .nim-dialog .nim-dialog--preview, .im_editable.im-chat-input--text._im_text, .ConvoMessage__text, .ConvoMessage__reply, .pv_desc_cont, .vkuiButton__in
		color: var(--text)

	.vkuiTabsItem--selected.vkuiTabsItem--accent, .vkuiButton--lvl-secondary, .im-mess.im-mess_selected:not(.im-mess_is_editing), .im-mess.im-mess_selected:not(.im-mess_is_editing):hover, .audio_page_player2 .slider_hint.audio_player_hint, .slider_hint.audio_player_hint, .reply_fakebox, .reply_field.submit_post_field, .FCConvoListItem:hover, .ui_tabs_header .ui_tab_new:hover, .ui_tabs_header .ui_tab_new:hover, .vkuiSimpleCell:hover, .vkuiTappable:hover, .vkuiTabsItem--selected.vkuiTabsItem--mode-accent
		background-color: var(--background_highlighted)

	[scheme=vkcom_dark] .settings_narrow_row input[type=checkbox]:checked + label:before, .ActionButton--all::before, .checkbox.on, .audio_w_covers .audio_row .audio_row__cover_icon, .audio_w_covers .audio_row.audio_row__playing .audio_row__cover_icon, [dir] .audio_page_player2 .audio_page_player__cover, img[src="/images/icons/im_favorites_100.png"], .audio_pl_snippet2 .audio_pl_snippet__action_btn_listen::before, .olist_item_wrap_on .olist_checkbox, #stl_text, .page_verified, .vkuiSimpleCell__badge
		filter: var(--main-filter)

	.vkuiDropdown
		background-color: var(--background_content)

	.ui_actions_menu
		background-color: var(--loader_background)

	.im-page-history-w .im-mess.im-mess_selected:last-child::before
		background: var(--background_page)

	.nim-dialog .nim-dialog--unread
		color: var(--white) imp
	// accent hovers
	.OwnerContentTabAudiosPlaylistsItem.vkuiTappable, .OwnerContentTabAudiosPlaylistsItem__title.vkuiTappable, .Header-module__tappable--mabke, .vkuiModalDismissButton, .vkuiIconButton, .vkuiLink
		background-color: unset imp
	// shuffle and repeat buttons
	.AudioPlayerPlaybackControlsContainer-module__playbackButtonsContainer--TYuxY .getColorClass-module__colorIconSecondary--U5K8f
		color: var(--background_highlighted) imp
	/* FIXES */
	.vkuiGroup--mode-card:after
		display: none
	// img
	// img
	if darkAvatar
		[alt="User photo"], ._post_field_image .AvatarRich__img, .AvatarRich--sz-24 .AvatarRich__img, .TopNavBtn__profileImg, .vkuiImageBase__img
			filter: saturate(0) invert(0.9)
	// logo
	.TopHomeLink > svg:nth-child(1) > path:nth-child(1), .TopHomeLink > svg:nth-child(1) > g:nth-child(1) > g:nth-child(1) > path:nth-child(2)
		fill: var(--accent)
	// 1 january
	.EcosystemAccountIFlip_hidden__T-on7
		display: none;
	// reply field when view any photo 
	.pv_cont .pv_reply_form_wrap .reply_field_wrap
		margin-left: 0px
	.wall_module .reply_box div.submit_post_field, .wall_module .reply_box div.submit_post_field[contenteditable="true"], .wall_module .reply_box div.submit_post_field ~ .placeholder .ph_input, .wall_module .reply_box div.submit_post_field[contenteditable="true"] ~ .placeholder .ph_input
		padding-left: 64px
	.reply_fakebox, .reply_field.submit_post_field
		border-radius: 6px
	// left menu hover border radius
	.LeftMenuItem-module__item--XMcN9
		border-radius: 8px imp {}